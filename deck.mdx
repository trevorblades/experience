import title from './assets/title.png';
import happiness from './assets/happiness.png';
import end from './assets/end.png';
import things from './assets/things.gif';
import graphiql from './assets/graphiql.gif';
import wordpress from './assets/wordpress.gif';
import pizza from './assets/pizza.gif';
import dx from './assets/dx.jpg';
import gta from './assets/gta.png';
import {
  Split,
  SplitRight,
  Invert,
  themes
} from 'mdx-deck';
import {
  Counter,
  CounterEdit,
  CounterHot,
  CounterProvider,
  CounterSamples
} from './components';

<Head>
  <link rel="icon" href="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/twitter/248/peace-symbol_262e.png" />
  <title>The DX Experience</title>
</Head>

<Footer>

<div style={{display: 'flex'}}>

<h1>The DX Experience</h1>

<h1 style={{marginLeft: 'auto'}}>@trevorblades</h1>

</div>

</Footer>

export const theme = {
  ...themes.prism,
  googleFont: 'https://fonts.googleapis.com/css2?family=Fira+Code',
  fonts: {
    heading: 'Boogaloo, sans-serif',
    body: 'sans-serif',
    monospace: "'Fira Code', monospace"
  },
  colors: {
    background: '#eecb00',
    text: '#7b0340',
    primary: '#a41075'
  },
  text: {
    heading: {
      textTransform: 'uppercase'
    }
  },
  styles: {
    img: {
      width: 'auto',
      height: 'auto'
    },
    li: {
      margin: '0.5em 0',
      textAlign: 'left'
    },
    code: {
      fontSize: '0.75em',
      margin: '0.5em !important',
    },
    inlineCode: {
      padding: '0.1em 0.2em',
      color: 'primary',
      backgroundColor: 'white'
    }
  },
  components: {
    ...themes.prism.components,
    code: props => {
      return themes.prism.components.code({
        ...props,
        // to get around a bug with mdx-deck and certain lowercase words
        // https://github.com/jxnblk/mdx-deck/issues/650
        children: props.children.replace(/(gr)[àáâäãåā](phql)/g, '$1a$2')
      })
    }
  }
};

<img
  src={title}
  style={{
    width: 765,
    margin: '80px 0'
  }}
/>

## by Trevor Blades

---

<Split>

<img src={dx} />

# Team DX @ Apollo

We produce educational content, organize events, and **build websites with Gatsby**.

</Split>

---

# We build with Gatsby

<Steps>

- Docs, Blog, marketing website
- Blazing fast, static builds
- Utilizes tools we're familiar with
- Amazing **local development** experience

</Steps>

---

# Local development

<Split style={{height: 'auto'}}>

<Steps>

- Incremental adoption
- Hot module reloading 🔥
- GraphQL
- Plugins for local development

</Steps>

<img src={things} />

</Split>

---

<Invert>

<img src={happiness} style={{width: 689}} />

</Invert>

---

# Incremental adoption

Gradually increase scope and complexity as necessary

- Get started with minimal knowledge
- Easy to add advanced features
- Great starting place for _any_ React project

---

# Minimal knowledge

```bash
mkdir -p my-project/src/pages
cd my-project
npm init -y
npm install gatsby react react-dom
vi src/pages/index.js
```

Just write a React component:

```jsx
import React from 'react';
export default () => <div>Hello world</div>;
```

```bash
npx gatsby develop
```

---

# Add complexity as you need it

<Split style={{height: 'auto'}}>

```text
my-project
├── src/pages
│   └── index.js
├── .gitignore
├── package-lock.json
└── package.json
```

<div
  style={{
    width: 500
  }}
>

```diff
  my-project
  ├── src
+ │   ├── gatsby-theme-apollo
+ │   │   └── client.js
  │   └── pages
  │       └── index.js
  ├── .gitignore
+ ├── gatsby-config.js
  ├── package-lock.json
  └── package.json
```

</div>

</Split>

---

<Split>

```text
my-project
├── public
│   ├── favicon.ico
│   ├── index.html
│   ├── logo192.png
│   ├── logo512.png
│   ├── manifest.json
│   └── robots.txt
├── src
│   ├── App.css
│   ├── App.js
│   ├── App.test.js
│   ├── index.css
│   ├── index.js
│   ├── logo.svg
│   ├── serviceWorker.js
│   └── setupTests.js
├── .gitignore
├── package.json
├── README.md
└── yarn.lock
```

My project directory after running `npx create-react-app my-project`

<img src={gta} />

</Split>

---

# Hot module reloading 🔥

Update the thing you're focused on without refreshing the entire page

<Steps>

- App state persists between changes
- Maintain scroll position
- Increases speed of iteration
- ...and developer happiness 😁

</Steps>

---

<CounterProvider>

<div
  style={{
    display: 'grid',
    gridTemplateColumns: 'repeat(3, 1fr)',
    gridGap: '1em'
  }}
>

<Counter />

<CounterEdit />

<CounterHot />

</div>

<CounterSamples>

```jsx
import React, {useState} from 'react';

export default function Counter() {
  const [count, setCount] = useState(0);

  function increment() {
    setCount(prevCount => prevCount + 1);
  }

  return (
    <button onClick={increment}>
      Clicked {count} times
    </button>
  );
}
```

```jsx
import React, {useState} from 'react';

export default function Counter() {
  const [count, setCount] = useState(0);

  function increment() {
    setCount(prevCount => prevCount + 1);
  }

  return (
    <button onClick={increment}>
      Pressed {count} times
    </button>
  );
}
```

</CounterSamples>

</CounterProvider>

---

<Split>

```jsx
import {gräphql, useStaticQuery} from 'gatsby';

function HomePage() {
  const data = useStaticQuery(
    gräphql`
      query HomePageQuery {
        allInstaNode {
          nodes {
            id
            caption
            original
          }
        }
      }
    `
  );

  // render instagram posts
}
```

# GraphQL

Clearly express components' static data requirements

<Steps>

- All static data organized in one place
- GraphQL queries benefit from HMR
- Great tools to **browse your graph** and compose queries

</Steps>

</Split>

---

# Browse your graph

```bash
You can now view my-project in the browser.
⠀
  http://localhost:8000/
⠀
View GraphiQL, an in-browser IDE, to explore your site's data and schema
⠀
  http://localhost:8000/___gräphql
⠀
Note that the development build is not optimized.
To create a production build, use gatsby build
```

---

<img src={pizza} style={{height: 700}} />

---

# GraphiQL

<img src={graphiql} />

Build queries like you build a pizza 🍕

---

# Plugins for local development

Incrementally improve your development environment

<Steps>

- Check for broken links in Markdown: `gatsby-remark-check-links`
- Publicly accessible local dev URL: `gatsby-plugin-ngrok-tunneling`
- **Hot reloading content from Wordpress**: `gatsby-source-wordpress-experimental`

</Steps>

---

# Hot reloading content from Wordpress

<img src={wordpress} />

`gatsby-source-wordpress-experimental`

---

<Invert>

<img src={happiness} style={{width: 689}} />

</Invert>

---

# Blazing fast local development

- Incremental adoption
- Hot module reloading 🔥
- GraphQL
- Plugins for local development

---

<img src={end} style={{marginBottom: 40}} />

## experience.trevorblades.com
